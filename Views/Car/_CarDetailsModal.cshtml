@model AmiFlota.Models.ViewModels.CarDetailsVM

@{
    var photoPath = "/images/cars/" + (Model.Car.PhotoPath ?? "default.jpg"); //+ ".jpg";
}

<div class="modal fade" id="carDetailsModal" tabindex="-1" role="dialog" aria-labelledby="carDetailsModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">

            @*//CAR*@
            <div class="row">
                <div class="row text-center">
                    <h4>@Model.Car.Brand @Model.Car.Model @Model.Car.RegistrationNumber</h4>
                </div>
                <div class="row">
                    <div class="col-4">
                        <img src="@photoPath" class="img-fluid img-heigt-width-small" alt="Unable to load car photo">
                    </div>
                    <div class="col-4">
                        <p>Card PIN: @Model.Car.CardPin</p>
                        <p>Trunk: @Model.Car.Trunk</p>
                        <p>Seats: @Model.Car.SeatsNumber</p>
                        <p>Doors: @Model.Car.Doors</p>
                    </div>
                    <div class="col-4">
                        <p>Engine: @Model.Car.Engine</p>
                        <p>Horse Power [KM]: @Model.Car.HorsePower</p>
                        <p>Fuel: @Model.Car.Fuel</p>
                        <p>Tyres: @Model.Car.TyreSize</p>
                    </div>
                </div>
            </div>


            @*//TRIPS*@
            <div class="row">
                <table class="table table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th scope="col">Start km</th>
                            <th scope="col">Start location</th>
                            <th scope="col">End km</th>
                            <th scope="col">End location</th>
                            <th scope="col">User</th>
                            <th scope="col">Project</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var historyTrip in @Model.TripsHistory)
                        {
                            <tr class="@(historyTrip.Active ? "table-active table-success" : "")">
                                <th scope="col">@historyTrip.StartKm</th>
                                <th scope="col">@historyTrip.StartLocation</th>
                                <th scope="col">@historyTrip.EndKm</th>
                                <th scope="col">@historyTrip.EndLocation</th>
                                <th scope="col">@historyTrip.User</th>
                                <th scope="col">@historyTrip.Project</th>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>





            @*<form method="post" asp-controller="Trip" asp-action="StartTrip" id="tripStartModalForm">
            <div class="modal-header">
            <h5 class="modal-title" id="tripStartModalTitle">Trip start</h5>
            </div>


            <div class="modal-body">
            <div class="form-group row">
            <div class="col-6 text-right">
            <label for="BookingId">BookingId: </label>
            </div>

            <div class="col-6 text-left">
            <label asp-for="BookingId">@Model.BookingId</label>
            <input asp-for="BookingId" type="hidden"></>
            </div>
            </div>

            <div class="form-group">
            <label asp-for="StartKm">Start mileage: @Model.StartKm</label>
            <input asp-for="StartKm" class="form-control" id="startKm"></>
            </div>

            <div class="form-group">
            <input asp-for="EndKm" type="hidden"></>
            </div>

            <div class="form-group">
            <input asp-for="Cost" type="hidden"></>
            </div>

            <div class="form-group">
            <input asp-for="CostRemarks" type="hidden" class="form-control" id="costRemarks"></>
            </div>
            <div class="form-group">
            <input asp-for="BookingStatus" type="hidden" value="@AmiFlota.Utilities.Enums.BookingStatus.Active" class="form-control"></>
            </div>
            </div>

            <div class="modal-footer">
            <div class="row align-items-center">
            <button type="submit" id="btnStartTrip" class="btn btn-success btn-start-trip">Start trip</button>
            </div>
            </div>
            </form>*@

        </div>
    </div>
</div>